(()=>{var e={};e.id=4586,e.ids=[4586],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5101:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25948:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]])},29093:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l,metadata:()=>r});var t=a(37413),i=a(56254);let r={title:"Inventory Management | Citimax",description:"Manage your products, batches, and stock counts"};function l({children:e}){return(0,t.jsx)(i.e,{children:e})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31554:(e,s,a)=>{Promise.resolve().then(a.bind(a,60881))},33873:e=>{"use strict";e.exports=require("path")},37360:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},42703:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ef});var t=a(60687),i=a(55192),r=a(19080),l=a(5101),n=a(43649),c=a(23928),d=a(43210),o=a(30474),m=a(96752),h=a(59821),x=a(24934),u=a(68988),p=a(99270),g=a(96474),j=a(31158),v=a(78122),b=a(93661),y=a(13861),N=a(63143),f=a(62688);let _=(0,f.A)("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);var w=a(47033),k=a(14952),C=a(55629),A=a(63974),S=a(71702),P=a(56338),$=a(33103),F=a(7803),E=a(17073),I=a(16189),J=a(92241),q=a(39390),U=a(15616),B=a(42902),V=a(78377),z=a(41862),L=a(17971),D=a(13964),M=a(88233),Z=a(9005),R=a(11860),O=a(3018),W=a(22064);a(14921),a(56792);var T=a(33135),H=a(4331),G=a(96241),K=a(37826);function X({open:e,onOpenChange:s,onCategoryCreated:a}){let{toast:i}=(0,S.dj)(),[r,l]=(0,d.useState)(!1),[n,c]=(0,d.useState)({name:"",description:"",color:"#6B7280",is_active:!0}),o=(e,s)=>{c(a=>({...a,[e]:s}))},m=async e=>{if(e.preventDefault(),!n.name.trim())return void i({title:"Validation Error",description:"Category name is required",variant:"destructive"});l(!0);try{let e=await (0,W.Ez)({name:n.name.trim(),description:n.description.trim()||void 0,color:n.color,is_active:n.is_active});e.success&&e.category?(i({title:"Success",description:"Category created successfully"}),c({name:"",description:"",color:"#6B7280",is_active:!0}),a(e.category),s(!1)):i({title:"Error",description:e.message||"Failed to create category",variant:"destructive"})}catch(e){i({title:"Error",description:e.message||"Failed to create category",variant:"destructive"})}finally{l(!1)}};return(0,t.jsx)(K.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(K.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(K.c7,{children:[(0,t.jsx)(K.L3,{children:"Create New Category"}),(0,t.jsx)(K.rr,{children:"Add a new product category to organize your inventory"})]}),(0,t.jsxs)("form",{onSubmit:m,children:[(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(q.J,{htmlFor:"name",children:["Name ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(u.p,{id:"name",value:n.name,onChange:e=>o("name",e.target.value),placeholder:"e.g., Electronics",required:!0,disabled:r})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(U.T,{id:"description",value:n.description,onChange:e=>o("description",e.target.value),placeholder:"Electronic devices and accessories",rows:3,disabled:r})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"color",children:"Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.p,{id:"color",type:"color",className:"w-16 p-1 h-10",value:n.color,onChange:e=>o("color",e.target.value),disabled:r}),(0,t.jsx)(u.p,{value:n.color,onChange:e=>o("color",e.target.value),className:"flex-1",placeholder:"#6B7280",disabled:r})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose a color to help identify this category"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"is_active",checked:n.is_active,onCheckedChange:e=>o("is_active",e),disabled:r}),(0,t.jsx)(q.J,{htmlFor:"is_active",children:"Active"})]})]}),(0,t.jsxs)(K.Es,{children:[(0,t.jsx)(x.$,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:r,children:"Cancel"}),(0,t.jsx)(x.$,{type:"submit",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Category"})]})]})]})})}function Q({open:e,onOpenChange:s,onProductCreated:a}){let{toast:l}=(0,S.dj)(),[c,o]=(0,d.useState)(!1),[m,h]=(0,d.useState)(!1),[p,j]=(0,d.useState)({name:"",description:"",category:"",brand:"",supplier:"",tags:"",price:"",cost:"",last_price:"",sku:"",barcode:"",product_code:"",unit_of_measurement:"piece",stock:"",lowStockThreshold:"10",trackInventory:!0,isActive:!0,weight:"",dimensions:{length:"",width:"",height:""},shippingClass:"standard",images:[],primaryImageIndex:0,hasVariations:!1,hasPackaging:!1,baseUnit:"",store_id:""}),[v,b]=(0,d.useState)([{unit_name:"Piece",unit_abbreviation:"PC",base_unit_quantity:1,is_base_unit:!0,is_sellable:!0,is_purchasable:!0,is_active:!0,display_order:1}]),[y,N]=(0,d.useState)(!1),[f,_]=(0,d.useState)(""),w=["Piece","Box","Carton","Pack","Case","Pallet","Container","Bag","Bundle","Dozen","Kilogram","Gram","Liter","Milliliter"],[k,C]=(0,d.useState)({}),[$,F]=(0,d.useState)({}),[E,I]=(0,d.useState)([{id:Date.now().toString(),name:"",sku:"",price:"",cost:"",stock_quantity:"",is_active:!0,store_id:"",images:[],attributes:[],allocated:0,on_hand:0,options:[],damaged:0,on_hold:0}]),[W,K]=(0,d.useState)([]),[Q,Y]=(0,d.useState)([]),[ee,es]=(0,d.useState)([]),[ea,et]=(0,d.useState)(!1),[ei,er]=(0,d.useState)(!1),[el,en]=(0,d.useState)([]),[ec,ed]=(0,d.useState)(!1),eo=(0,d.useRef)(null),em=(e,s)=>{let a=e.toLowerCase().trim(),t=s.toLowerCase().trim();if(a===t)return 1;if(0===a.length||0===t.length)return 0;if(a.includes(t)||t.includes(a))return .8;let i=[];for(let e=0;e<=a.length;e++)i[e]=[e];for(let e=0;e<=t.length;e++)i[0][e]=e;for(let e=1;e<=a.length;e++)for(let s=1;s<=t.length;s++){let r=+(a[e-1]!==t[s-1]);i[e][s]=Math.min(i[e-1][s]+1,i[e][s-1]+1,i[e-1][s-1]+r)}let r=Math.max(a.length,t.length);return 1-i[a.length][t.length]/r},eh=(0,d.useCallback)(async e=>{if(!e||e.trim().length<2)return void en([]);ed(!0);try{let s=await (0,P.d$)(1,50,{search:e.trim()});if(s.data&&s.data.length>0){let a=s.data.filter(s=>em(e,s.name)>.5).slice(0,5);en(a)}else en([])}catch(e){console.error("Error checking similar products:",e),en([])}finally{ed(!1)}},[]),ex=e=>{j(s=>({...s,name:e})),eo.current&&clearTimeout(eo.current),eo.current=setTimeout(()=>{eh(e)},500)},eu=(e,s)=>{j(a=>({...a,[e]:s}))},ep=(e,s)=>{j(a=>({...a,dimensions:{...a.dimensions,[e]:s}}))},eg=(e,s,a)=>{I(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))},ej=e=>{E.length>1&&I(s=>s.filter(s=>s.id!==e))},ev=e=>{I(s=>s.map(s=>s.id===e?{...s,attributes:[...s.attributes,{key:"",value:""}]}:s))},eb=(e,s,a,t)=>{I(i=>i.map(i=>i.id===e?{...i,attributes:i.attributes.map((e,i)=>i===s?{...e,[a]:t}:e)}:i))},ey=(e,s)=>{I(a=>a.map(a=>a.id===e?{...a,attributes:a.attributes.filter((e,a)=>a!==s)}:a))},eN=(e,s)=>{I(a=>a.map(a=>a.id===e?{...a,options:[...a.options,s]}:a))},ef=(e,s)=>{I(a=>a.map(a=>a.id===e?{...a,options:a.options.filter((e,a)=>a!==s)}:a))},e_=(e,s,a)=>{I(t=>t.map(t=>t.id===e?{...t,options:t.options.map((e,t)=>t===s?a:e)}:t))},ew=(e,s)=>{let a=s.target.files;if(!a||0===a.length)return;let t=Array.from(a).map((e,s)=>URL.createObjectURL(e));I(s=>s.map(s=>s.id===e?{...s,images:[...s.images,...t]}:s)),s.target.value=""},ek=(e,s)=>{I(a=>a.map(a=>a.id===e?{...a,images:a.images.filter((e,a)=>a!==s)}:a))},eC=e=>{let s=document.getElementById(e);s&&s.click()},eA=e=>{j(s=>({...s,images:s.images.filter((s,a)=>a!==e)}))},eS=(0,d.useCallback)((e,s)=>{let a=e[s];if(a.is_base_unit)return 1;if(!a.parent_unit_reference||!e.find(e=>e.unit_name===a.parent_unit_reference))return Number(a.units_per_parent||1);let t=e.findIndex(e=>e.unit_name===a.parent_unit_reference);return(t>=0?eS(e,t):1)*Number(a.units_per_parent||1)},[]),eP=(e,s,a)=>{b(t=>{let i=t.map((t,i)=>i===e?"is_base_unit"===s&&!0===a?{...t,is_base_unit:!0,base_unit_quantity:1,parent_unit_reference:null,units_per_parent:null}:"parent_unit_reference"===s?{...t,parent_unit_reference:"string"==typeof a?a:null}:"units_per_parent"===s?{...t,units_per_parent:"number"==typeof a?a:null}:{...t,[s]:a}:"is_base_unit"===s&&!0===a?{...t,is_base_unit:!1}:t);return i.map((e,s)=>({...e,base_unit_quantity:eS(i,s)}))})},e$=e=>{v.length>1&&!v[e].is_base_unit&&b(s=>s.filter((s,a)=>a!==e))},eF=async e=>{e.preventDefault(),console.log("Form submission started"),h(!0);try{let e={name:p.name.trim(),description:p.description.trim()||void 0,category_id:p.category||void 0,brand:p.brand.trim()||void 0,supplier_id:p.supplier||void 0,tags:p.tags?p.tags.split(",").map(e=>e.trim()).filter(e=>e.length>0):[],price:parseFloat(p.price)||0,cost:parseFloat(p.cost)||0,last_price:p.last_price?parseFloat(p.last_price):void 0,sku:p.sku.trim()||void 0,barcode:p.barcode.trim()||void 0,product_code:p.product_code.trim()||void 0,unit_of_measurement:p.unit_of_measurement,stock:parseInt(p.stock)||0,lowStockThreshold:parseInt(p.lowStockThreshold)||10,trackInventory:p.trackInventory,isActive:p.isActive,weight:p.weight?parseFloat(p.weight):void 0,dimensions:{length:p.dimensions.length||"",width:p.dimensions.width||"",height:p.dimensions.height||""},shippingClass:p.shippingClass,images:p.images,primaryImageIndex:p.primaryImageIndex,hasVariations:p.hasVariations,has_packaging:p.hasPackaging,base_unit:p.hasPackaging?p.baseUnit:void 0,packaging_units:p.hasPackaging?v:void 0,variants:p.hasVariations?E.map(e=>({name:e.name.trim(),sku:e.sku.trim()||"",price:parseFloat(e.price)||0,cost:parseFloat(e.cost)||0,stock_quantity:parseInt(e.stock_quantity)||0,is_active:e.is_active,options:e.options||[],images:e.images,store_id:e.store_id||p.store_id,allocated:e.allocated,on_hand:e.on_hand,attributes:e.attributes.reduce((e,s)=>(s.key&&s.value&&(e[s.key]=s.value),e),{}),damaged:e.damaged,on_hold:e.on_hold,id:0})):[],store_id:p.store_id};if(console.log("Prepared product data:",JSON.stringify(e,null,2)),console.log("Has variations:",e.hasVariations),console.log("Number of variants:",e.variants.length),e.hasVariations&&console.log("Variants data:",JSON.stringify(e.variants,null,2)),!e.name)throw Error("Product name is required");if(e.hasVariations&&0===e.variants.length)throw Error("Product has variations enabled but no variants provided");if(e.has_packaging){if(!e.base_unit)throw Error("Base unit is required when packaging is enabled");if(!e.packaging_units||0===e.packaging_units.length)throw Error("At least one packaging unit is required when packaging is enabled");let s=e.packaging_units.filter(e=>e.is_base_unit);if(0===s.length)throw Error("Exactly one unit must be marked as base unit");if(s.length>1)throw Error("Only one unit can be marked as base unit");let a=s[0];if(1!==a.base_unit_quantity)throw Error("Base unit must have base_unit_quantity of 1");for(let s=0;s<e.packaging_units.length;s++){let a=e.packaging_units[s];if(!a.unit_name)throw Error(`Packaging unit ${s+1} name is required`);if(!a.unit_abbreviation)throw Error(`Packaging unit ${s+1} abbreviation is required`)}}if(e.hasVariations){for(let s=0;s<e.variants.length;s++)if(!e.variants[s].name)throw Error(`Variant ${s+1} name is required`)}let t=await (0,P.WY)(e);console.log("Product creation result:",t),t.success?(console.log("Product created successfully"),l({title:"Success",description:"Product created successfully."}),j({name:"",description:"",category:"",brand:"",supplier:"",tags:"",price:"",cost:"",last_price:"",sku:"",barcode:"",product_code:"",unit_of_measurement:"piece",stock:"",lowStockThreshold:"10",trackInventory:!0,isActive:!0,weight:"",dimensions:{length:"",width:"",height:""},shippingClass:"standard",images:[],primaryImageIndex:0,hasVariations:!1,hasPackaging:!1,baseUnit:"",store_id:""}),en([]),b([{unit_name:"Piece",unit_abbreviation:"PC",base_unit_quantity:1,is_base_unit:!0,is_sellable:!0,is_purchasable:!0,is_active:!0,display_order:1}]),I([{id:Date.now().toString(),name:"",sku:"",price:"",cost:"",stock_quantity:"",is_active:!0,store_id:"",images:[],attributes:[],allocated:0,on_hand:0,options:[],damaged:0,on_hold:0}]),a(),s(!1)):(console.error("Product creation failed:",t.message),l({title:"Error",description:t.message||"Failed to create product",variant:"destructive"}))}catch(e){console.error("Error in handleSubmit:",e),l({title:"Error",description:e.message||"Failed to create product",variant:"destructive"})}finally{h(!1)}};return(0,t.jsx)(J.cj,{open:e,onOpenChange:s,children:(0,t.jsxs)(J.h,{className:"w-full sm:max-w-4xl flex flex-col",style:{maxWidth:"800px"},children:[(0,t.jsx)(J.Fm,{className:"sticky top-0 bg-background z-10 pb-4 border-b",children:(0,t.jsxs)(J.qp,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"Add New Product"]})}),c?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(z.A,{className:"h-8 w-8 animate-spin"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,t.jsxs)("form",{id:"create-product-form",onSubmit:eF,className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Basic Information"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"name",children:"Product Name *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.p,{id:"name",value:p.name,onChange:e=>ex(e.target.value),placeholder:"Enter product name",required:!0}),ec&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,t.jsx)(z.A,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),el.length>0&&(0,t.jsxs)(O.Fc,{variant:"default",className:"mt-2 border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),(0,t.jsx)(O.XL,{className:"text-amber-800 dark:text-amber-200 text-sm",children:"Similar products found"}),(0,t.jsxs)(O.TN,{className:"text-amber-700 dark:text-amber-300 text-xs",children:[(0,t.jsx)("p",{className:"mb-1",children:"The following products have similar names:"}),(0,t.jsx)("ul",{className:"list-disc pl-4 space-y-0.5",children:el.map(e=>(0,t.jsxs)("li",{className:"truncate",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),e.sku&&(0,t.jsxs)("span",{className:"text-amber-600 dark:text-amber-400 ml-1",children:["(",e.sku,")"]})]},e.id))}),(0,t.jsx)("p",{className:"mt-1 text-amber-600 dark:text-amber-400",children:"Please verify this is a new product before continuing."})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"brand",children:"Brand"}),(0,t.jsx)(u.p,{id:"brand",value:p.brand,onChange:e=>eu("brand",e.target.value),placeholder:"Enter brand"})]}),(0,t.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(U.T,{id:"description",value:p.description,onChange:e=>eu("description",e.target.value),placeholder:"Enter product description",rows:3})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"category",children:"Category"}),(0,t.jsxs)(T.AM,{open:ei,onOpenChange:er,children:[(0,t.jsx)(T.Wv,{asChild:!0,children:(0,t.jsxs)(x.$,{variant:"outline",role:"combobox","aria-expanded":ei,className:"w-full justify-between",children:[p.category?W.find(e=>e.id===p.category)?.name:"Select category...",(0,t.jsx)(L.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(T.hl,{className:"w-full p-0",align:"start",children:(0,t.jsxs)(H.uB,{children:[(0,t.jsx)(H.G7,{placeholder:"Search categories..."}),(0,t.jsxs)(H.oI,{children:[(0,t.jsx)(H.xL,{children:(0,t.jsxs)("div",{className:"p-2 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No category found."}),(0,t.jsxs)(x.$,{size:"sm",className:"w-full",onClick:()=>{er(!1),et(!0)},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Create New Category"]})]})}),(0,t.jsxs)(H.L$,{children:[(0,t.jsxs)(H.h_,{onSelect:()=>{er(!1),et(!0)},className:"bg-primary/5 font-medium",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Create New Category"]}),W.filter(e=>e.is_active).map(e=>(0,t.jsxs)(H.h_,{value:e.name,onSelect:()=>{eu("category",e.id),er(!1)},children:[(0,t.jsx)(D.A,{className:(0,G.cn)("mr-2 h-4 w-4",p.category===e.id?"opacity-100":"opacity-0")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{children:e.name})]})]},e.id))]})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,t.jsx)(u.p,{id:"tags",value:p.tags,onChange:e=>eu("tags",e.target.value),placeholder:"clothing, premium, cotton"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Inventory"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"store_id",children:"Store *"}),(0,t.jsxs)(A.l6,{value:p.store_id,onValueChange:e=>eu("store_id",e),required:!0,children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Select store"})}),(0,t.jsx)(A.gC,{children:ee.map(e=>(0,t.jsx)(A.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"sku",children:"SKU"}),(0,t.jsx)(u.p,{id:"sku",value:p.sku,onChange:e=>eu("sku",e.target.value),placeholder:"Enter SKU"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"product_code",children:"Product Code"}),(0,t.jsx)(u.p,{id:"product_code",value:p.product_code,onChange:e=>eu("product_code",e.target.value),placeholder:"Enter product code"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"barcode",children:"Barcode"}),(0,t.jsx)(u.p,{id:"barcode",value:p.barcode,onChange:e=>eu("barcode",e.target.value),placeholder:"Enter barcode"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"stock",children:"Stock Quantity"}),(0,t.jsx)(u.p,{id:"stock",type:"number",value:p.stock,onChange:e=>eu("stock",e.target.value),placeholder:"0"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),(0,t.jsx)(u.p,{id:"lowStockThreshold",type:"number",value:p.lowStockThreshold,onChange:e=>eu("lowStockThreshold",e.target.value),placeholder:"10"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"trackInventory",checked:p.trackInventory,onCheckedChange:e=>eu("trackInventory",e)}),(0,t.jsx)(q.J,{htmlFor:"trackInventory",children:"Track Inventory"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"isActive",checked:p.isActive,onCheckedChange:e=>eu("isActive",e)}),(0,t.jsx)(q.J,{htmlFor:"isActive",children:"Active Product"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Shipping & Physical Properties"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"weight",children:"Weight (grams)"}),(0,t.jsx)(u.p,{id:"weight",type:"number",step:"0.01",value:p.weight,onChange:e=>eu("weight",e.target.value),placeholder:"Enter weight"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"shippingClass",children:"Shipping Class"}),(0,t.jsxs)(A.l6,{value:p.shippingClass,onValueChange:e=>eu("shippingClass",e),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Select shipping class"})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"standard",children:"Standard"}),(0,t.jsx)(A.eb,{value:"express",children:"Express"}),(0,t.jsx)(A.eb,{value:"overnight",children:"Overnight"}),(0,t.jsx)(A.eb,{value:"free",children:"Free"}),(0,t.jsx)(A.eb,{value:"heavy",children:"Heavy"}),(0,t.jsx)(A.eb,{value:"fragile",children:"Fragile"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{children:"Dimensions (cm)"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(q.J,{htmlFor:"length",className:"text-xs",children:"Length"}),(0,t.jsx)(u.p,{id:"length",type:"number",step:"0.01",value:p.dimensions.length,onChange:e=>ep("length",e.target.value),placeholder:"Length"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(q.J,{htmlFor:"width",className:"text-xs",children:"Width"}),(0,t.jsx)(u.p,{id:"width",type:"number",step:"0.01",value:p.dimensions.width,onChange:e=>ep("width",e.target.value),placeholder:"Width"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(q.J,{htmlFor:"height",className:"text-xs",children:"Height"}),(0,t.jsx)(u.p,{id:"height",type:"number",step:"0.01",value:p.dimensions.height,onChange:e=>ep("height",e.target.value),placeholder:"Height"})]})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Packaging Units"}),p.hasPackaging&&v.length>0&&(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-primary bg-primary/10 rounded-full",children:v.length})]}),p.hasPackaging&&(0,t.jsxs)("p",{className:"text-xs font-normal text-muted-foreground mt-0.5",children:["Base: ",p.baseUnit||v.find(e=>e.is_base_unit)?.unit_name||"Not set"]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"hasPackaging",checked:p.hasPackaging,onCheckedChange:e=>{eu("hasPackaging",e),e&&!p.baseUnit&&eu("baseUnit","Piece")}}),(0,t.jsx)(q.J,{htmlFor:"hasPackaging",className:"text-sm",children:"Enable"})]})]})}),(0,t.jsx)(i.Wu,{children:p.hasPackaging&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=v.reduce((e,s)=>Math.max(e,s.display_order||0),0);b(s=>[...s,{unit_name:"",unit_abbreviation:"",base_unit_quantity:1,is_base_unit:!1,is_sellable:!0,is_purchasable:!0,is_active:!0,display_order:e+1}])},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Unit"]})}),v.map((e,s)=>(0,t.jsxs)("div",{className:"relative border rounded-lg bg-card overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 pb-3 border-b bg-muted/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary",children:(0,t.jsx)(r.A,{className:"h-4 w-4"})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:e.unit_name||`Unit ${s+1}`}),e.unit_abbreviation&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.unit_abbreviation,")"]}),e.is_base_unit&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-primary text-primary-foreground rounded",children:"Base"})]})})]}),!e.is_base_unit&&v.length>1&&(0,t.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>e$(s),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-name-${s}`,className:"text-xs font-medium",children:"Unit Name *"}),(0,t.jsxs)(T.AM,{open:k[s],onOpenChange:e=>C(a=>({...a,[s]:e})),children:[(0,t.jsx)(T.Wv,{asChild:!0,children:(0,t.jsxs)(x.$,{variant:"outline",role:"combobox","aria-expanded":k[s],className:"w-full justify-between h-9 text-sm",children:[e.unit_name||"Select...",(0,t.jsx)(L.A,{className:"ml-2 h-3.5 w-3.5 shrink-0 opacity-50"})]})}),(0,t.jsx)(T.hl,{className:"w-full p-0",children:(0,t.jsxs)(H.uB,{children:[(0,t.jsx)(H.G7,{placeholder:"Search or type custom...",value:$[s]||"",onValueChange:e=>F(a=>({...a,[s]:e}))}),(0,t.jsxs)(H.oI,{children:[(0,t.jsx)(H.xL,{children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No predefined unit found."}),(0,t.jsxs)(x.$,{size:"sm",className:"w-full",onClick:()=>{$[s]?.trim()&&(eP(s,"unit_name",$[s].trim()),F(e=>({...e,[s]:""})),C(e=>({...e,[s]:!1})))},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),'Use "',$[s],'"']})]})}),(0,t.jsx)(H.L$,{children:w.map(a=>(0,t.jsxs)(H.h_,{value:a,onSelect:e=>{eP(s,"unit_name",e),F(e=>({...e,[s]:""})),C(e=>({...e,[s]:!1}))},children:[(0,t.jsx)(D.A,{className:(0,G.cn)("mr-2 h-4 w-4",e.unit_name===a?"opacity-100":"opacity-0")}),a]},a))})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-abbr-${s}`,className:"text-xs font-medium",children:"Abbreviation *"}),(0,t.jsx)(u.p,{id:`unit-abbr-${s}`,value:e.unit_abbreviation,onChange:e=>eP(s,"unit_abbreviation",e.target.value),placeholder:"e.g., PC, BOX",className:"h-9 text-sm",required:!0})]})]}),!e.is_base_unit&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(V.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-parent-${s}`,className:"text-xs font-medium",children:"Parent Unit"}),(0,t.jsxs)(A.l6,{value:e.parent_unit_reference||"__none__",onValueChange:e=>eP(s,"parent_unit_reference","__none__"===e?null:e),children:[(0,t.jsx)(A.bq,{className:"h-9 text-sm",children:(0,t.jsx)(A.yv,{placeholder:"Select parent..."})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"__none__",children:(0,t.jsx)("span",{className:"text-muted-foreground",children:"No parent (relative to base)"})}),v.filter((e,a)=>a!==s).filter(e=>e.unit_name).map(e=>(0,t.jsxs)(A.eb,{value:e.unit_name,children:[e.unit_name," ",e.is_base_unit&&"(Base)"]},e.unit_name))]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(q.J,{htmlFor:`unit-per-parent-${s}`,className:"text-xs font-medium",children:[e.parent_unit_reference?`${e.parent_unit_reference}s per ${e.unit_name||"Unit"}`:"Base Units per Package"," *"]}),(0,t.jsx)(u.p,{id:`unit-per-parent-${s}`,type:"number",min:"1",value:e.units_per_parent||1,onChange:e=>eP(s,"units_per_parent",parseInt(e.target.value)||1),placeholder:"1",className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{className:"text-xs font-medium text-muted-foreground",children:"Total Base Units"}),(0,t.jsx)(u.p,{value:e.base_unit_quantity,disabled:!0,className:"h-9 text-sm bg-muted/50 font-medium"})]})]})]})]}),!e.is_base_unit&&Number(e.base_unit_quantity)>1&&(0,t.jsx)("div",{className:"rounded-md bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900 px-3 py-2",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"mt-0.5",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-amber-600 dark:text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"flex-1 text-xs",children:[e.parent_unit_reference&&(0,t.jsxs)("p",{className:"font-medium text-amber-900 dark:text-amber-200",children:["1 ",e.unit_name," = ",e.units_per_parent," ",e.parent_unit_reference,(()=>{let s=v.find(s=>s.unit_name===e.parent_unit_reference);return s&&!s.is_base_unit?` (${s.units_per_parent} ${s.parent_unit_reference||"units"} each)`:""})()]}),(0,t.jsxs)("p",{className:"text-amber-800 dark:text-amber-300 mt-0.5",children:["Total: ",(0,t.jsxs)("span",{className:"font-semibold",children:["1 ",e.unit_name," = ",e.base_unit_quantity," ",p.baseUnit||v.find(e=>e.is_base_unit)?.unit_name||"Base Units"]})]})]})]})}),(0,t.jsx)(V.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:`unit-base-${s}`,checked:e.is_base_unit,onCheckedChange:e=>eP(s,"is_base_unit",e),className:"scale-75"}),(0,t.jsx)(q.J,{htmlFor:`unit-base-${s}`,className:"text-xs",children:"Base"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:`unit-sellable-${s}`,checked:!1!==e.is_sellable,onCheckedChange:e=>eP(s,"is_sellable",e),className:"scale-75"}),(0,t.jsx)(q.J,{htmlFor:`unit-sellable-${s}`,className:"text-xs",children:"Sellable"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:`unit-purchasable-${s}`,checked:!1!==e.is_purchasable,onCheckedChange:e=>eP(s,"is_purchasable",e),className:"scale-75"}),(0,t.jsx)(q.J,{htmlFor:`unit-purchasable-${s}`,className:"text-xs",children:"Purchasable"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-price-${s}`,className:"text-xs font-medium",children:"Price"}),(0,t.jsx)(u.p,{id:`unit-price-${s}`,type:"number",step:"0.01",value:e.price_per_unit||"",onChange:e=>eP(s,"price_per_unit",e.target.value?parseFloat(e.target.value):null),placeholder:"0.00",className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-cost-${s}`,className:"text-xs font-medium",children:"Cost"}),(0,t.jsx)(u.p,{id:`unit-cost-${s}`,type:"number",step:"0.01",value:e.cost_per_unit||"",onChange:e=>eP(s,"cost_per_unit",e.target.value?parseFloat(e.target.value):null),placeholder:"0.00",className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-display-order-${s}`,className:"text-xs font-medium",children:"Order"}),(0,t.jsx)(u.p,{id:`unit-display-order-${s}`,type:"number",min:"0",value:e.display_order||0,onChange:e=>eP(s,"display_order",parseInt(e.target.value)||0),placeholder:"0",className:"h-9 text-sm"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(q.J,{htmlFor:`unit-barcode-${s}`,className:"text-xs font-medium",children:"Barcode"}),(0,t.jsx)(u.p,{id:`unit-barcode-${s}`,value:e.barcode||"",onChange:e=>eP(s,"barcode",e.target.value),placeholder:"Enter barcode...",className:"h-9 text-sm"})]})]})]})]},s)),v.length>1&&(0,t.jsx)("div",{className:"rounded-lg bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:"Packaging Hierarchy"}),(0,t.jsx)("div",{className:"text-xs font-mono space-y-1 text-blue-800 dark:text-blue-200",children:(()=>{let e=v.find(e=>e.is_base_unit);if(!e)return(0,t.jsx)("p",{className:"text-muted-foreground italic",children:"Define a base unit first"});let s=(a,i=0)=>{let r="  ".repeat(i),l=v.filter(e=>e.parent_unit_reference===a),n=v.find(e=>e.unit_name===a),c=[];return n&&c.push((0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:[r,i>0?"↳":"●"]}),(0,t.jsx)("span",{className:"font-medium",children:a}),!n.is_base_unit&&(0,t.jsxs)("span",{className:"text-blue-700 dark:text-blue-300",children:["= ",n.base_unit_quantity," ",e.unit_name]})]},a)),l.forEach(e=>{c.push(...s(e.unit_name,i+1))}),c};return(0,t.jsx)(t.Fragment,{children:s(e.unit_name)})})()})]})]})})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Variations"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"hasVariations",checked:p.hasVariations,onCheckedChange:e=>eu("hasVariations",e)}),(0,t.jsx)(q.J,{htmlFor:"hasVariations",children:"Has Variations"})]})]})}),(0,t.jsx)(i.Wu,{children:p.hasVariations&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add product variations (e.g., size, color)"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{I(e=>[...e,{id:Date.now().toString(),name:"",sku:"",price:p.price,cost:p.cost,stock_quantity:"",is_active:!0,store_id:p.store_id,images:[],attributes:[],allocated:0,on_hand:0,options:[],damaged:0,on_hold:0}])},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Variation"]})]}),E.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Variation ",s+1]}),E.length>1&&(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ej(e.id),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-name-${e.id}`,children:"Name *"}),(0,t.jsx)(u.p,{id:`variant-name-${e.id}`,value:e.name,onChange:s=>eg(e.id,"name",s.target.value),placeholder:"e.g., Small - Red",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-sku-${e.id}`,children:"SKU"}),(0,t.jsx)(u.p,{id:`variant-sku-${e.id}`,value:e.sku,onChange:s=>eg(e.id,"sku",s.target.value),placeholder:"Enter SKU"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-price-${e.id}`,children:"Price"}),(0,t.jsx)(u.p,{id:`variant-price-${e.id}`,type:"number",step:"0.01",value:e.price,onChange:s=>eg(e.id,"price",s.target.value),placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-cost-${e.id}`,children:"Cost"}),(0,t.jsx)(u.p,{id:`variant-cost-${e.id}`,type:"number",step:"0.01",value:e.cost,onChange:s=>eg(e.id,"cost",s.target.value),placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-stock-${e.id}`,children:"Stock Quantity"}),(0,t.jsx)(u.p,{id:`variant-stock-${e.id}`,type:"number",value:e.stock_quantity,onChange:s=>eg(e.id,"stock_quantity",s.target.value),placeholder:"0"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-6",children:[(0,t.jsx)(B.d,{id:`variant-active-${e.id}`,checked:e.is_active,onCheckedChange:s=>eg(e.id,"is_active",s)}),(0,t.jsx)(q.J,{htmlFor:`variant-active-${e.id}`,children:"Active"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q.J,{children:"Attributes"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ev(e.id),children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Add Attribute"]})]}),e.attributes.map((s,a)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(u.p,{value:s.key,onChange:s=>eb(e.id,a,"key",s.target.value),placeholder:"Attribute name",className:"flex-1"}),(0,t.jsx)(u.p,{value:s.value,onChange:s=>eb(e.id,a,"value",s.target.value),placeholder:"Attribute value",className:"flex-1"}),(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ey(e.id,a),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]},a))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q.J,{children:"Options"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eN(e.id,""),children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Add Option"]})]}),e.options.map((s,a)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(u.p,{value:s,onChange:s=>e_(e.id,a,s.target.value),placeholder:"Option value (e.g., size, color)",className:"flex-1"}),(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ef(e.id,a),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]},a))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{children:"Variant Images"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:s=>ew(e.id,s),className:"hidden",id:`variant-image-upload-${e.id}`}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>eC(`variant-image-upload-${e.id}`),children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Upload Images"]}),e.images.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.images.map((a,i)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:a,alt:`Variant ${s+1} Image ${i+1}`,className:"w-16 h-16 object-cover rounded border"}),(0,t.jsx)(x.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-5 w-5 p-0",onClick:()=>ek(e.id,i),children:(0,t.jsx)(R.A,{className:"h-3 w-3"})})]},i))})]})]})]},e.id))]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Product Images"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=e.target.files;if(!s||0===s.length)return;let a=Array.from(s).map((e,s)=>URL.createObjectURL(e));j(e=>({...e,images:[...e.images,...a]})),e.target.value=""},className:"hidden",id:"product-image-upload"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>eC("product-image-upload"),children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Upload Product Images"]}),p.images.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:p.images.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e,alt:`Product Image ${s+1}`,className:"w-24 h-24 object-cover rounded border"}),(0,t.jsx)(x.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>eA(s),children:(0,t.jsx)(R.A,{className:"h-3 w-3"})})]},s))})]})})]})]})}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-background border-t pt-4",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(x.$,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:m,children:"Cancel"}),(0,t.jsx)(x.$,{type:"submit",form:"create-product-form",disabled:m,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Create Product"]})})]})})]}),(0,t.jsx)(X,{open:ea,onOpenChange:et,onCategoryCreated:e=>{K(s=>[...s,e]),j(s=>({...s,category:e.id})),l({title:"Category Created",description:`${e.name} has been added successfully`})}})]})})}var Y=a(64398);function ee({open:e,onOpenChange:s,product:a,onProductUpdated:l}){let{toast:n}=(0,S.dj)(),[c,o]=(0,d.useState)(!1),[m,h]=(0,d.useState)(!1),[p,j]=(0,d.useState)({name:"",description:"",category:"",brand:"",supplier:"",tags:"",price:"",cost:"",last_price:"",sku:"",barcode:"",product_code:"",unit_of_measurement:"piece",stock:"",lowStockThreshold:"10",trackInventory:!0,isActive:!0,weight:"",dimensions:{length:"",width:"",height:""},shippingClass:"standard",images:[],primaryImageIndex:0,hasVariations:!1,store_id:"",hasPackaging:!1,baseUnit:""}),[v,b]=(0,d.useState)([{id:Date.now().toString(),name:"",sku:"",price:"",cost:"",stock_quantity:"",is_active:!0,store_id:"",images:[],attributes:[],allocated:0,on_hand:0,options:[]}]),[y,N]=(0,d.useState)([]),f=["Piece","Box","Carton","Pack","Case","Pallet","Container","Bag","Bundle","Dozen","Kilogram","Gram","Liter","Milliliter"],[_,w]=(0,d.useState)({}),[k,C]=(0,d.useState)({}),[$,F]=(0,d.useState)([]),[E,I]=(0,d.useState)([]),[V,O]=(0,d.useState)([]),[W,K]=(0,d.useState)(!1),[Q,ee]=(0,d.useState)(!1),[es,ea]=(0,d.useState)(!1),et=(e,s)=>{j(a=>({...a,[e]:s}))},ei=(e,s)=>{j(a=>({...a,dimensions:{...a.dimensions,[e]:s}}))},er=(e,s,a)=>{b(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))},el=e=>{v.length>1&&b(s=>s.filter(s=>s.id!==e))},en=e=>{b(s=>s.map(s=>s.id===e?{...s,attributes:[...s.attributes,{key:"",value:""}]}:s))},ec=(e,s,a,t)=>{b(i=>i.map(i=>i.id===e?{...i,attributes:i.attributes.map((e,i)=>i===s?{...e,[a]:t}:e)}:i))},ed=(e,s)=>{b(a=>a.map(a=>a.id===e?{...a,attributes:a.attributes.filter((e,a)=>a!==s)}:a))},eo=(e,s)=>{b(a=>a.map(a=>a.id===e?{...a,options:[...a.options,s]}:a))},em=(e,s)=>{b(a=>a.map(a=>a.id===e?{...a,options:a.options.filter((e,a)=>a!==s)}:a))},eh=(e,s,a)=>{b(t=>t.map(t=>t.id===e?{...t,options:t.options.map((e,t)=>t===s?a:e)}:t))},ex=(e,s)=>{let a=s.target.files;if(!a||0===a.length)return;let t=Array.from(a).map((e,s)=>URL.createObjectURL(e));b(s=>s.map(s=>s.id===e?{...s,images:[...s.images,...t]}:s)),s.target.value=""},eu=(e,s)=>{b(a=>a.map(a=>a.id===e?{...a,images:a.images.filter((e,a)=>a!==s)}:a))},ep=e=>{let s=document.getElementById(e);s&&s.click()},eg=(e,s,a)=>{N(t=>t.map((t,i)=>i===e?{...t,[s]:a}:t))},ej=e=>{N(s=>s.filter((s,a)=>a!==e))},ev=e=>{j(s=>({...s,images:s.images.filter((s,a)=>a!==e),primaryImageIndex:s.primaryImageIndex>=s.images.length-1?Math.max(0,s.images.length-2):s.primaryImageIndex}))},eb=e=>{j(s=>({...s,primaryImageIndex:e}))},ey=async e=>{if(e.preventDefault(),a){h(!0);try{let e={name:p.name.trim(),description:p.description.trim()||void 0,category_id:p.category||void 0,brand:p.brand.trim()||void 0,supplier_id:p.supplier||void 0,tags:p.tags?p.tags.split(",").map(e=>e.trim()).filter(e=>e.length>0):[],price:parseFloat(p.price)||0,unit_cost:parseFloat(p.cost)||0,last_price:p.last_price?parseFloat(p.last_price):void 0,sku:p.sku.trim()||void 0,barcode:p.barcode.trim()||void 0,product_code:p.product_code.trim()||void 0,unit_of_measurement:p.unit_of_measurement,stock_quantity:parseInt(p.stock)||0,low_stock_threshold:parseInt(p.lowStockThreshold)||10,track_inventory:p.trackInventory,is_active:p.isActive,weight:p.weight?parseFloat(p.weight):void 0,length:p.dimensions.length?parseFloat(p.dimensions.length):void 0,width:p.dimensions.width?parseFloat(p.dimensions.width):void 0,height:p.dimensions.height?parseFloat(p.dimensions.height):void 0,shipping_class:p.shippingClass,images:p.images,primary_image_index:p.primaryImageIndex,has_variations:p.hasVariations,variants:p.hasVariations?v.map(e=>({name:e.name.trim(),sku:e.sku.trim()||"",price:parseFloat(e.price)||0,cost:parseFloat(e.cost)||0,stock_quantity:parseInt(e.stock_quantity)||0,is_active:e.is_active,options:e.options||[],images:e.images,store_id:e.store_id||p.store_id,allocated:0,on_hand:parseInt(e.stock_quantity)||0,attributes:e.attributes.reduce((e,s)=>(s.key&&s.value&&(e[s.key]=s.value),e),{})})):[],store_id:p.store_id,has_packaging:p.hasPackaging,base_unit:p.hasPackaging?p.baseUnit:void 0,packaging_units:p.hasPackaging&&y.length>0?y.map(e=>({unit_name:e.unit_name.trim(),unit_abbreviation:e.unit_abbreviation.trim(),description:e.description?.trim()||void 0,base_unit_quantity:parseFloat(e.base_unit_quantity)||1,is_base_unit:e.is_base_unit,is_sellable:e.is_sellable,is_purchasable:e.is_purchasable,is_active:e.is_active,price_per_unit:e.price_per_unit?parseFloat(e.price_per_unit):void 0,cost_per_unit:e.cost_per_unit?parseFloat(e.cost_per_unit):void 0,barcode:e.barcode||void 0,display_order:e.display_order,weight:e.weight?parseFloat(e.weight):void 0,length:e.length?parseFloat(e.length):void 0,width:e.width?parseFloat(e.width):void 0,height:e.height?parseFloat(e.height):void 0})):[]},t=await (0,P.vc)(a.id,e);"success"===t.status?(n({title:"Success",description:"Product updated successfully."}),l(),s(!1)):n({title:"Error",description:t.message||"Failed to update product",variant:"destructive"})}catch(e){n({title:"Error",description:e.message||"Failed to update product",variant:"destructive"})}finally{h(!1)}}};return(0,t.jsx)(J.cj,{open:e,onOpenChange:s,children:(0,t.jsxs)(J.h,{className:"w-full sm:max-w-4xl flex flex-col",style:{maxWidth:"800px"},children:[(0,t.jsx)(J.Fm,{className:"sticky top-0 bg-background z-10 pb-4 border-b",children:(0,t.jsxs)(J.qp,{className:"flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"h-5 w-5"}),"Edit Product"]})}),c?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(z.A,{className:"h-8 w-8 animate-spin"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,t.jsxs)("form",{id:"edit-product-form",onSubmit:ey,className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Basic Information"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"name",children:"Product Name *"}),(0,t.jsx)(u.p,{id:"name",value:p.name,onChange:e=>et("name",e.target.value),placeholder:"Enter product name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"brand",children:"Brand"}),(0,t.jsx)(u.p,{id:"brand",value:p.brand,onChange:e=>et("brand",e.target.value),placeholder:"Enter brand"})]}),(0,t.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(U.T,{id:"description",value:p.description,onChange:e=>et("description",e.target.value),placeholder:"Enter product description",rows:3})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"category",children:"Category"}),(0,t.jsxs)(T.AM,{open:es,onOpenChange:ea,children:[(0,t.jsx)(T.Wv,{asChild:!0,children:(0,t.jsxs)(x.$,{variant:"outline",role:"combobox","aria-expanded":es,className:"w-full justify-between",children:[p.category?$.find(e=>e.id===p.category)?.name:"Select category...",(0,t.jsx)(L.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(T.hl,{className:"w-full p-0",align:"start",children:(0,t.jsxs)(H.uB,{children:[(0,t.jsx)(H.G7,{placeholder:"Search categories..."}),(0,t.jsxs)(H.oI,{children:[(0,t.jsx)(H.xL,{children:(0,t.jsxs)("div",{className:"p-2 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No category found."}),(0,t.jsxs)(x.$,{size:"sm",className:"w-full",onClick:()=>{ea(!1),ee(!0)},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Create New Category"]})]})}),(0,t.jsxs)(H.L$,{children:[(0,t.jsxs)(H.h_,{onSelect:()=>{ea(!1),ee(!0)},className:"bg-primary/5 font-medium",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Create New Category"]}),$.filter(e=>e.is_active).map(e=>(0,t.jsxs)(H.h_,{value:e.name,onSelect:()=>{et("category",e.id),ea(!1)},children:[(0,t.jsx)(D.A,{className:(0,G.cn)("mr-2 h-4 w-4",p.category===e.id?"opacity-100":"opacity-0")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{children:e.name})]})]},e.id))]})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,t.jsx)(u.p,{id:"tags",value:p.tags,onChange:e=>et("tags",e.target.value),placeholder:"clothing, premium, cotton"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Inventory"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"store_id",children:"Store *"}),(0,t.jsxs)(A.l6,{value:p.store_id,onValueChange:e=>et("store_id",e),required:!0,children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Select store"})}),(0,t.jsx)(A.gC,{children:V.map(e=>(0,t.jsx)(A.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"sku",children:"SKU"}),(0,t.jsx)(u.p,{id:"sku",value:p.sku,onChange:e=>et("sku",e.target.value),placeholder:"Enter SKU"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"product_code",children:"Product Code"}),(0,t.jsx)(u.p,{id:"product_code",value:p.product_code,onChange:e=>et("product_code",e.target.value),placeholder:"Enter product code"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"barcode",children:"Barcode"}),(0,t.jsx)(u.p,{id:"barcode",value:p.barcode,onChange:e=>et("barcode",e.target.value),placeholder:"Enter barcode"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"stock",children:"Stock Quantity"}),(0,t.jsx)(u.p,{id:"stock",type:"number",value:p.stock,onChange:e=>et("stock",e.target.value),placeholder:"0"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),(0,t.jsx)(u.p,{id:"lowStockThreshold",type:"number",value:p.lowStockThreshold,onChange:e=>et("lowStockThreshold",e.target.value),placeholder:"10"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"trackInventory",checked:p.trackInventory,onCheckedChange:e=>et("trackInventory",e)}),(0,t.jsx)(q.J,{htmlFor:"trackInventory",children:"Track Inventory"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"isActive",checked:p.isActive,onCheckedChange:e=>et("isActive",e)}),(0,t.jsx)(q.J,{htmlFor:"isActive",children:"Active Product"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Shipping & Physical Properties"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"weight",children:"Weight (grams)"}),(0,t.jsx)(u.p,{id:"weight",type:"number",step:"0.01",value:p.weight,onChange:e=>et("weight",e.target.value),placeholder:"Enter weight"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:"shippingClass",children:"Shipping Class"}),(0,t.jsxs)(A.l6,{value:p.shippingClass,onValueChange:e=>et("shippingClass",e),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Select shipping class"})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"standard",children:"Standard"}),(0,t.jsx)(A.eb,{value:"express",children:"Express"}),(0,t.jsx)(A.eb,{value:"overnight",children:"Overnight"}),(0,t.jsx)(A.eb,{value:"free",children:"Free"}),(0,t.jsx)(A.eb,{value:"heavy",children:"Heavy"}),(0,t.jsx)(A.eb,{value:"fragile",children:"Fragile"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{children:"Dimensions (cm)"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(q.J,{htmlFor:"length",className:"text-xs",children:"Length"}),(0,t.jsx)(u.p,{id:"length",type:"number",step:"0.01",value:p.dimensions.length,onChange:e=>ei("length",e.target.value),placeholder:"Length"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(q.J,{htmlFor:"width",className:"text-xs",children:"Width"}),(0,t.jsx)(u.p,{id:"width",type:"number",step:"0.01",value:p.dimensions.width,onChange:e=>ei("width",e.target.value),placeholder:"Width"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(q.J,{htmlFor:"height",className:"text-xs",children:"Height"}),(0,t.jsx)(u.p,{id:"height",type:"number",step:"0.01",value:p.dimensions.height,onChange:e=>ei("height",e.target.value),placeholder:"Height"})]})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Variations"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"hasVariations",checked:p.hasVariations,onCheckedChange:e=>et("hasVariations",e)}),(0,t.jsx)(q.J,{htmlFor:"hasVariations",children:"Has Variations"})]})]})}),(0,t.jsx)(i.Wu,{children:p.hasVariations&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add product variations (e.g., size, color)"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{b(e=>[...e,{id:Date.now().toString(),name:"",sku:"",price:p.price,cost:p.cost,stock_quantity:"",is_active:!0,store_id:p.store_id,images:[],attributes:[],allocated:0,on_hand:0,options:[]}])},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Variation"]})]}),v.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Variation ",s+1]}),v.length>1&&(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>el(e.id),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-name-${e.id}`,children:"Name *"}),(0,t.jsx)(u.p,{id:`variant-name-${e.id}`,value:e.name,onChange:s=>er(e.id,"name",s.target.value),placeholder:"e.g., Small - Red",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-sku-${e.id}`,children:"SKU"}),(0,t.jsx)(u.p,{id:`variant-sku-${e.id}`,value:e.sku,onChange:s=>er(e.id,"sku",s.target.value),placeholder:"Enter SKU"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-price-${e.id}`,children:"Price"}),(0,t.jsx)(u.p,{id:`variant-price-${e.id}`,type:"number",step:"0.01",value:e.price,onChange:s=>er(e.id,"price",s.target.value),placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-cost-${e.id}`,children:"Cost"}),(0,t.jsx)(u.p,{id:`variant-cost-${e.id}`,type:"number",step:"0.01",value:e.cost,onChange:s=>er(e.id,"cost",s.target.value),placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`variant-stock-${e.id}`,children:"Stock Quantity"}),(0,t.jsx)(u.p,{id:`variant-stock-${e.id}`,type:"number",value:e.stock_quantity,onChange:s=>er(e.id,"stock_quantity",s.target.value),placeholder:"0"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-6",children:[(0,t.jsx)(B.d,{id:`variant-active-${e.id}`,checked:e.is_active,onCheckedChange:s=>er(e.id,"is_active",s)}),(0,t.jsx)(q.J,{htmlFor:`variant-active-${e.id}`,children:"Active"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q.J,{children:"Attributes"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>en(e.id),children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Add Attribute"]})]}),e.attributes.map((s,a)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(u.p,{value:s.key,onChange:s=>ec(e.id,a,"key",s.target.value),placeholder:"Attribute name",className:"flex-1"}),(0,t.jsx)(u.p,{value:s.value,onChange:s=>ec(e.id,a,"value",s.target.value),placeholder:"Attribute value",className:"flex-1"}),(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ed(e.id,a),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]},a))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q.J,{children:"Options"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eo(e.id,""),children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Add Option"]})]}),e.options.map((s,a)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(u.p,{value:s,onChange:s=>eh(e.id,a,s.target.value),placeholder:"Option value (e.g., size, color)",className:"flex-1"}),(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>em(e.id,a),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]},a))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{children:"Variant Images"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:s=>ex(e.id,s),className:"hidden",id:`variant-image-upload-${e.id}`}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>ep(`variant-image-upload-${e.id}`),children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Upload Images"]}),e.images.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.images.map((a,i)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:a,alt:`Variant ${s+1} Image ${i+1}`,className:"w-16 h-16 object-cover rounded border"}),(0,t.jsx)(x.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-5 w-5 p-0",onClick:()=>eu(e.id,i),children:(0,t.jsx)(R.A,{className:"h-3 w-3"})})]},i))})]})]})]},e.id))]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Packaging Units"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:"hasPackaging",checked:p.hasPackaging,onCheckedChange:e=>{et("hasPackaging",e),e&&!p.baseUnit&&et("baseUnit","Piece")}}),(0,t.jsx)(q.J,{htmlFor:"hasPackaging",children:"Enable Packaging"})]})]})}),(0,t.jsx)(i.Wu,{children:p.hasPackaging&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Define packaging units (e.g., Piece, Box, Carton)"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{N(e=>[...e,{unit_name:"",unit_abbreviation:"",description:"",base_unit_quantity:"1",is_base_unit:!1,is_sellable:!0,is_purchasable:!0,is_active:!0,price_per_unit:"",cost_per_unit:"",barcode:"",display_order:e.length,weight:"",length:"",width:"",height:""}])},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Unit"]})]}),y.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Unit ",s+1]}),e.is_base_unit&&(0,t.jsx)("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"Base Unit"})]}),!e.is_base_unit&&y.length>1&&(0,t.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ej(s),children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-name-${s}`,children:"Unit Name *"}),(0,t.jsxs)(T.AM,{open:_[s],onOpenChange:e=>w(a=>({...a,[s]:e})),children:[(0,t.jsx)(T.Wv,{asChild:!0,children:(0,t.jsxs)(x.$,{variant:"outline",role:"combobox","aria-expanded":_[s],className:"w-full justify-between",children:[e.unit_name||"Select unit name...",(0,t.jsx)(L.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(T.hl,{className:"w-full p-0",children:(0,t.jsxs)(H.uB,{children:[(0,t.jsx)(H.G7,{placeholder:"Search or type custom unit...",value:k[s]||"",onValueChange:e=>C(a=>({...a,[s]:e}))}),(0,t.jsxs)(H.oI,{children:[(0,t.jsx)(H.xL,{children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No predefined unit found."}),(0,t.jsxs)(x.$,{size:"sm",className:"w-full",onClick:()=>{k[s]?.trim()&&(eg(s,"unit_name",k[s].trim()),C(e=>({...e,[s]:""})),w(e=>({...e,[s]:!1})))},children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),'Use "',k[s],'"']})]})}),(0,t.jsx)(H.L$,{children:f.map(a=>(0,t.jsxs)(H.h_,{value:a,onSelect:e=>{eg(s,"unit_name",e),C(e=>({...e,[s]:""})),w(e=>({...e,[s]:!1}))},children:[(0,t.jsx)(D.A,{className:(0,G.cn)("mr-2 h-4 w-4",e.unit_name===a?"opacity-100":"opacity-0")}),a]},a))})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-abbr-${s}`,children:"Abbreviation *"}),(0,t.jsx)(u.p,{id:`unit-abbr-${s}`,value:e.unit_abbreviation,onChange:e=>eg(s,"unit_abbreviation",e.target.value),placeholder:"e.g., PC, BOX, CTN",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-quantity-${s}`,children:"Base Unit Quantity *"}),(0,t.jsx)(u.p,{id:`unit-quantity-${s}`,type:"number",min:"1",value:e.base_unit_quantity,onChange:e=>eg(s,"base_unit_quantity",parseInt(e.target.value)||1),placeholder:"1",disabled:e.is_base_unit,required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"How many base units in this packaging"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-display-order-${s}`,children:"Display Order"}),(0,t.jsx)(u.p,{id:`unit-display-order-${s}`,type:"number",min:"0",value:e.display_order||0,onChange:e=>eg(s,"display_order",parseInt(e.target.value)||0),placeholder:"0"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-price-${s}`,children:"Price Per Unit"}),(0,t.jsx)(u.p,{id:`unit-price-${s}`,type:"number",step:"0.01",value:e.price_per_unit||"",onChange:e=>eg(s,"price_per_unit",e.target.value?parseFloat(e.target.value):""),placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-cost-${s}`,children:"Cost Per Unit"}),(0,t.jsx)(u.p,{id:`unit-cost-${s}`,type:"number",step:"0.01",value:e.cost_per_unit||"",onChange:e=>eg(s,"cost_per_unit",e.target.value?parseFloat(e.target.value):""),placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,t.jsx)(q.J,{htmlFor:`unit-barcode-${s}`,children:"Barcode"}),(0,t.jsx)(u.p,{id:`unit-barcode-${s}`,value:e.barcode||"",onChange:e=>eg(s,"barcode",e.target.value),placeholder:"Enter barcode for this unit"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:`unit-base-${s}`,checked:e.is_base_unit,onCheckedChange:e=>eg(s,"is_base_unit",e)}),(0,t.jsx)(q.J,{htmlFor:`unit-base-${s}`,children:"Is Base Unit"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:`unit-sellable-${s}`,checked:!1!==e.is_sellable,onCheckedChange:e=>eg(s,"is_sellable",e)}),(0,t.jsx)(q.J,{htmlFor:`unit-sellable-${s}`,children:"Sellable"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(B.d,{id:`unit-purchasable-${s}`,checked:!1!==e.is_purchasable,onCheckedChange:e=>eg(s,"is_purchasable",e)}),(0,t.jsx)(q.J,{htmlFor:`unit-purchasable-${s}`,children:"Purchasable"})]})]}),!e.is_base_unit&&Number(e.base_unit_quantity)>1&&(0,t.jsx)("div",{className:"mt-2 p-3 bg-primary/10 rounded-md",children:(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Conversion:"})," 1 ",e.unit_name," = ",e.base_unit_quantity," ",p.baseUnit||"Base Units"]})})]},s)),(0,t.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsx)("h5",{className:"font-medium text-sm mb-2",children:"Quick Guide:"}),(0,t.jsxs)("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[(0,t.jsx)("li",{children:'• Exactly one unit must be marked as "Base Unit"'}),(0,t.jsx)("li",{children:"• Base unit must have a quantity of 1"}),(0,t.jsx)("li",{children:"• Example: 1 Box = 10 Pieces, 1 Carton = 100 Pieces"}),(0,t.jsx)("li",{children:"• Use display order to control how units appear in dropdowns"})]})]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Product Images"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=e.target.files;if(!s||0===s.length)return;let a=Array.from(s).map((e,s)=>URL.createObjectURL(e));j(e=>({...e,images:[...e.images,...a]})),e.target.value=""},className:"hidden",id:"product-image-upload"}),(0,t.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>ep("product-image-upload"),children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Upload Product Images"]}),p.images.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:p.images.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e,alt:`Product Image ${s+1}`,className:"w-24 h-24 object-cover rounded border"}),(0,t.jsx)(x.$,{type:"button",variant:p.primaryImageIndex===s?"default":"secondary",size:"sm",className:"absolute -top-2 -left-2 h-6 w-6 p-0",onClick:()=>eb(s),children:(0,t.jsx)(Y.A,{className:`h-3 w-3 ${p.primaryImageIndex===s?"fill-current":""}`})}),(0,t.jsx)(x.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>ev(s),children:(0,t.jsx)(R.A,{className:"h-3 w-3"})})]},s))})]})})]})]})}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-background border-t pt-4",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(x.$,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:m,children:"Cancel"}),(0,t.jsx)(x.$,{type:"submit",form:"edit-product-form",disabled:m,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Update Product"]})})]})})]}),(0,t.jsx)(X,{open:Q,onOpenChange:ee,onCategoryCreated:e=>{F(s=>[...s,e]),j(s=>({...s,category:e.id})),n({title:"Category Created",description:`${e.name} has been added successfully`})}})]})})}var es=a(93613),ea=a(5336),et=a(45583),ei=a(53311),er=a(48730),el=a(79300),en=a(84027),ec=a(15574),ed=a(25948);let eo=(0,f.A)("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),em=(0,f.A)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var eh=a(37360),ex=a(57175);function eu({open:e,onOpenChange:s,product:a,onEdit:i,isLoading:l=!1}){let[c,m]=(0,d.useState)(0);if(!a)return null;let u=e=>e?e.startsWith("http")||e.startsWith("/")?e:`/${e}`:"/placeholder.svg",p=Number(a.stock_quantity)||0,g=Number(a.low_stock_threshold)||0,j=p<=g?"critical":p<=2*g?"low":"ok",v=a.image_urls&&a.image_urls.length>0?a.image_urls:(a.images||(a.image_url?[a.image_url]:[])).map(e=>"string"==typeof e?u(e):u(null)),b=a.primary_image_url||v[c]||"/placeholder.svg";return(0,t.jsx)(J.cj,{open:e,onOpenChange:s,children:(0,t.jsxs)(J.h,{className:"w-full sm:max-w-5xl overflow-y-auto bg-gradient-to-br from-gray-50 to-gray-100 p-0",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-white to-white p-6 text-white relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxjaXJjbGUgY3g9IjIwIiBjeT0iMjAiIHI9IjAuNSIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC4xNSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==')] opacity-20"}),(0,t.jsx)(J.Fm,{className:"relative z-10",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)(J.qp,{className:"flex items-center gap-3 text-2xl font-bold",children:[(0,t.jsx)("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:(0,t.jsx)(r.A,{className:"h-6 w-6"})}),"Product Details"]})})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative aspect-square rounded-2xl overflow-hidden shadow-lg group",children:[(0,t.jsx)(o.default,{src:b,alt:a.name,fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-105"}),(0,t.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[a.is_featured&&(0,t.jsxs)(h.E,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white border-0 shadow-lg px-3 py-1 text-xs",children:[(0,t.jsx)(Y.A,{className:"h-3 w-3 mr-1 fill-current"}),"Featured"]}),a.is_digital&&(0,t.jsxs)(h.E,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-lg px-3 py-1 text-xs",children:[(0,t.jsx)(et.A,{className:"h-3 w-3 mr-1"}),"Digital"]})]}),(0,t.jsx)("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:(0,t.jsxs)("div",{className:(0,G.cn)("px-3 py-1 rounded-full text-xs font-semibold text-white flex items-center gap-1 shadow-lg",(e=>{switch(e){case"critical":return"bg-red-500";case"low":return"bg-amber-500";default:return"bg-green-500"}})(j)),children:[(e=>{switch(e){case"critical":return(0,t.jsx)(es.A,{className:"h-4 w-4"});case"low":return(0,t.jsx)(n.A,{className:"h-4 w-4"});default:return(0,t.jsx)(ea.A,{className:"h-4 w-4"})}})(j),p," in stock"]})})]}),v.length>1&&(0,t.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:v.map((e,s)=>(0,t.jsx)("button",{onClick:()=>m(s),className:(0,G.cn)("flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden border-2 transition-all duration-300",s===c?"border-violet-500 shadow-lg scale-105":"border-gray-200 hover:border-gray-300 hover:scale-102"),children:(0,t.jsx)(o.default,{src:e||"/placeholder.svg",alt:`${a.name} ${s+1}`,width:60,height:60,className:"w-full h-full object-cover"})},s))})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(h.E,{className:"bg-gradient-to-r from-violet-100 to-indigo-100 text-violet-800 hover:from-violet-200 hover:to-indigo-200 border-violet-200 text-xs px-3 py-1",children:"string"==typeof a.category?a.category||"Uncategorized":a.category?.name||"Uncategorized"}),a.sku&&(0,t.jsx)(h.E,{variant:"outline",className:"font-mono bg-white text-xs px-3 py-1",children:a.sku}),(0,t.jsxs)(h.E,{className:(0,G.cn)("border-0 text-xs px-3 py-1",a.is_active?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-600"),children:[(0,t.jsx)("div",{className:(0,G.cn)("w-2 h-2 rounded-full mr-2",a.is_active?"bg-green-500":"bg-gray-400")}),a.is_active?"Active":"Inactive"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.name}),a.brand&&(0,t.jsxs)("p",{className:"text-lg text-gray-600 mb-4",children:["by ",(0,t.jsx)("span",{className:"font-semibold text-gray-800",children:a.brand})]}),a.short_description&&(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed mb-6",children:a.short_description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-3 border border-blue-100",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(ei.A,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Stock"}),(0,t.jsx)("p",{className:"text-lg font-bold text-gray-900",children:p})]})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-3 border border-purple-100",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(er.A,{className:"h-4 w-4 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Last Updated"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(a.updated_at).toLocaleDateString()})]})]})})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[a.description&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(el.A,{className:"h-5 w-5 text-violet-600"}),"Product Description"]}),(0,t.jsx)("div",{className:"prose prose-lg max-w-none",children:(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:a.description})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"h-5 w-5 text-blue-600"}),"Inventory"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Stock Quantity"}),(0,t.jsx)("span",{className:"font-bold text-lg",children:p})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Low Stock Alert"}),(0,t.jsx)("span",{className:"font-medium",children:g})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"On Hand"}),(0,t.jsx)("span",{className:"font-medium",children:a.on_hand})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Allocated"}),(0,t.jsx)("span",{className:"font-medium",children:a.allocated})]}),(0,t.jsx)(V.w,{className:"my-2"}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Track Inventory"}),(0,t.jsx)(h.E,{variant:a.track_inventory?"default":"secondary",children:a.track_inventory?"Yes":"No"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Unit"}),(0,t.jsx)("span",{className:"font-medium",children:a.unit_of_measurement||"pcs"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(en.A,{className:"h-5 w-5 text-gray-600"}),"Product Details"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(ec.A,{className:"h-4 w-4"})," SKU"]}),(0,t.jsx)("code",{className:"bg-gray-100 px-3 py-1 rounded-lg text-sm font-mono",children:a.sku||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(ed.A,{className:"h-4 w-4"})," Barcode"]}),(0,t.jsx)("code",{className:"bg-gray-100 px-3 py-1 rounded-lg text-sm font-mono",children:a.barcode||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Supplier"}),(0,t.jsx)("span",{className:"font-medium text-right text-sm",children:"string"==typeof a.supplier?a.supplier:"object"==typeof a.supplier&&null!==a.supplier&&a.supplier.name||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Product Number"}),(0,t.jsx)("span",{className:"font-medium text-sm",children:a.product_number||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Store"}),(0,t.jsx)("span",{className:"font-medium text-sm",children:a.store?.name||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Created"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),!a.is_digital&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"h-5 w-5 text-amber-600"}),"Physical Properties"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(eo,{className:"h-4 w-4"})," Weight"]}),(0,t.jsx)("span",{className:"font-medium",children:a.weight?`${a.weight} kg`:"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Shipping Class"}),(0,t.jsx)(h.E,{variant:"outline",className:"text-xs",children:a.shipping_class||"Standard"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(em,{className:"h-4 w-4"})," Dimensions"]}),(0,t.jsx)("span",{className:"font-medium text-sm text-right",children:a.length&&a.width&&a.height?`${a.length} \xd7 ${a.width} \xd7 ${a.height} cm`:"N/A"})]})]})]})]}),l?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(r.A,{className:"h-5 w-5 text-primary animate-pulse"}),(0,t.jsx)("div",{className:"h-6 w-48 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 w-20 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 w-full bg-gray-200 rounded"})]},e))})]}):a.has_packaging&&a.packaging_units&&a.packaging_units.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Packaging Units"}),(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-primary bg-primary/10 rounded-full",children:a.packaging_units.length})]}),a.base_unit&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(Base: ",a.base_unit,")"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.packaging_units.sort((e,s)=>(e.display_order||0)-(s.display_order||0)).map((e,s)=>{let i=Number(e.base_unit_quantity||1);return(0,t.jsxs)("div",{className:"border rounded-lg bg-card overflow-hidden hover:shadow-md transition-shadow",children:[(0,t.jsx)("div",{className:"px-3 py-2 bg-muted/20 border-b",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"h-3.5 w-3.5 text-primary"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:e.unit_name}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.unit_abbreviation,")"]})]})]}),e.is_base_unit&&(0,t.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 text-[10px] font-medium bg-primary text-primary-foreground rounded",children:"Base"})]})}),(0,t.jsxs)("div",{className:"p-3 space-y-2",children:[!e.is_base_unit&&i>1&&(0,t.jsx)("div",{className:"rounded bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900 px-2 py-1.5",children:(0,t.jsx)("p",{className:"text-[11px] text-amber-900 dark:text-amber-200",children:(0,t.jsxs)("span",{className:"font-semibold",children:["1 ",e.unit_name," = ",i," ",a.base_unit]})})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(ec.A,{className:"h-3 w-3"}),"Base Qty"]}),(0,t.jsxs)("span",{className:"font-semibold",children:[i," \xd7 ",e.is_base_unit?e.unit_name:a.base_unit]})]}),e.barcode&&(0,t.jsxs)("div",{className:"pt-1 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-0.5",children:[(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5"}),(0,t.jsx)("span",{children:"Barcode"})]}),(0,t.jsx)("code",{className:"text-[10px] font-mono text-gray-900 block truncate",children:e.barcode})]}),(0,t.jsxs)("div",{className:"flex gap-1 pt-1",children:[e.is_sellable&&(0,t.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 text-[10px] bg-green-100 text-green-700 rounded",children:"Sell"}),e.is_purchasable&&(0,t.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 text-[10px] bg-purple-100 text-purple-700 rounded",children:"Buy"})]})]})]},e.id||s)})})]}),a.has_variations&&a.variants&&a.variants.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,t.jsx)(el.A,{className:"h-5 w-5 text-gray-600"}),"Product Variants ",(0,t.jsx)(h.E,{className:"ml-2 bg-violet-100 text-violet-800",children:a.variants.length})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:a.variants.map((e,s)=>{let a=Number(e.stock_quantity||0),i=e.image_urls&&e.image_urls.length>0?e.image_urls:(e.images||[]).map(e=>"string"==typeof e?u(e):u(null));return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-xl p-5 bg-gradient-to-br from-gray-50 to-white",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name||`Variant ${s+1}`}),(0,t.jsxs)(h.E,{className:(0,G.cn)("border-0 text-xs",e.is_active?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-600"),children:[(0,t.jsx)("div",{className:(0,G.cn)("w-2 h-2 rounded-full mr-2",e.is_active?"bg-green-500":"bg-gray-400")}),e.is_active?"Active":"Inactive"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"SKU"}),(0,t.jsx)("p",{className:"font-medium text-sm",children:e.sku||"N/A"})]}),(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Options"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.options&&e.options.length>0?e.options.map((e,s)=>(0,t.jsx)(h.E,{variant:"outline",className:"text-xs",children:e},s)):(0,t.jsx)("span",{className:"text-gray-500 text-xs",children:"No options"})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-2 border border-amber-100 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Stock"}),(0,t.jsx)("p",{className:"font-bold text-amber-900 text-sm",children:a})]})})]}),(0,t.jsx)("div",{children:i.length>0?(0,t.jsxs)("div",{className:"h-full",children:[(0,t.jsxs)("h5",{className:"font-medium text-gray-900 mb-2 text-sm flex items-center gap-1",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4"}),"Images (",i.length,")"]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 h-[calc(100%-2rem)]",children:i.map((s,a)=>(0,t.jsx)("div",{className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border border-gray-200",children:(0,t.jsx)(o.default,{src:s||"/placeholder.svg",alt:`${e.name} image ${a+1}`,width:64,height:64,className:"w-full h-full object-cover"})},a))})]}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-100 rounded-lg",children:(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"No images"})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-2 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"On Hand"}),(0,t.jsx)("p",{className:"font-medium",children:e.on_hand||0})]}),(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-2 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Allocated"}),(0,t.jsx)("p",{className:"font-medium",children:e.allocated||0})]}),(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-2 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"On Hold"}),(0,t.jsx)("p",{className:"font-medium",children:e.on_hold||0})]}),(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-2 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Damaged"}),(0,t.jsx)("p",{className:"font-medium",children:e.damaged||0})]})]})]},e.id||s)})})]}),a.tags&&(Array.isArray(a.tags)&&a.tags.length>0||"string"==typeof a.tags&&a.tags.length>0)&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(eh.A,{className:"h-5 w-5 text-violet-600"}),"Tags"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(a.tags)?a.tags:"string"==typeof a.tags?a.tags.split(",").map(e=>e.trim()).filter(e=>e):[]).map((e,s)=>(0,t.jsxs)(h.E,{className:"bg-gradient-to-r from-violet-50 to-purple-50 border-violet-200 text-violet-700 hover:from-violet-100 hover:to-purple-100 transition-all duration-300 text-xs",children:[(0,t.jsx)(eh.A,{className:"w-3 h-3 mr-1"}),e]},s))})]})]})]}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsxs)(x.$,{variant:"outline",onClick:()=>s(!1),children:[(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,t.jsxs)(x.$,{onClick:()=>{s(!1),i&&i(a)},className:"bg-[#1E2764] hover:bg-[#1E2764]/90 text-white",children:[(0,t.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"Edit Product"]})]})})]})})}var ep=a(95033);function eg({open:e,onOpenChange:s,product:a,onSuccess:i}){let[r,l]=(0,d.useState)(!1),{toast:c}=(0,S.dj)(),o=async()=>{if(a){l(!0);try{await (0,P.DD)(a.id),c({title:"Success",description:`Product "${a.name}" has been deleted successfully.`}),i(),s(!1)}catch(e){console.error("Delete error:",e),c({title:"Error",description:e.message||"Failed to delete product",variant:"destructive"})}finally{l(!1)}}};return(0,t.jsx)(ep.Lt,{open:e,onOpenChange:s,children:(0,t.jsxs)(ep.EO,{children:[(0,t.jsxs)(ep.wd,{children:[(0,t.jsxs)(ep.r7,{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.A,{className:"h-5 w-5 text-red-500"}),(0,t.jsx)("span",{children:"Delete Product"})]}),(0,t.jsxs)(ep.$v,{children:["Are you sure you want to delete product"," ",(0,t.jsxs)("span",{className:"font-semibold",children:['"',a?.name,'"']}),"? This action cannot be undone."]})]}),(0,t.jsxs)(ep.ck,{children:[(0,t.jsx)(ep.Zr,{disabled:r,children:"Cancel"}),(0,t.jsx)(ep.Rx,{onClick:o,disabled:r,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Product"})]})]})})}var ej=a(71463);function ev(){return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[(0,t.jsx)(ej.E,{className:"h-10 w-full sm:w-64"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(ej.E,{className:"h-10 w-32"}),(0,t.jsx)(ej.E,{className:"h-10 w-32"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,t.jsx)(ej.E,{className:"h-10 w-24"}),(0,t.jsx)(ej.E,{className:"h-10 w-24"}),(0,t.jsx)(ej.E,{className:"h-10 w-24"})]})]}),(0,t.jsx)("div",{className:"rounded-md border bg-white",children:(0,t.jsxs)(m.XI,{children:[(0,t.jsx)(m.A0,{children:(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nd,{className:"font-semibold w-12",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"font-semibold",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})}),(0,t.jsx)(m.nd,{className:"text-right font-semibold w-20",children:(0,t.jsx)(ej.E,{className:"h-4 w-full"})})]})}),(0,t.jsx)(m.BF,{children:Array.from({length:10}).map((e,s)=>(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-10 w-10 rounded-md"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-16"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-20"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-32"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-20"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-20"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-16"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-4 w-24"})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(ej.E,{className:"h-6 w-16 rounded-full"})}),(0,t.jsx)(m.nA,{className:"text-right",children:(0,t.jsx)(ej.E,{className:"h-8 w-8 rounded-md ml-auto"})})]},s))})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ej.E,{className:"h-4 w-40"}),(0,t.jsx)(ej.E,{className:"h-8 w-20"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ej.E,{className:"h-8 w-20"}),(0,t.jsx)(ej.E,{className:"h-4 w-20 text-center"}),(0,t.jsx)(ej.E,{className:"h-8 w-20"})]})]})]})}function eb(e){return e?e.startsWith("http")||e.startsWith("/")?e:`/${e}`:"/placeholder.svg"}function ey(e,s){let a=s.toLowerCase(),t="";return e.supplier&&("object"==typeof e.supplier?t=e.supplier.name||"":"string"==typeof e.supplier&&(t=e.supplier)),e.name.toLowerCase().includes(a)||!!e.sku&&e.sku.toLowerCase().includes(a)||!!e.category?.name&&e.category?.name.toLowerCase().includes(a)||!!e.brand&&e.brand.toLowerCase().includes(a)||!!t&&t.toLowerCase().includes(a)||!!e.product_number&&e.product_number.toLowerCase().includes(a)||!!e.product_code&&e.product_code.toLowerCase().includes(a)}function eN({products:e,summaryData:s,onProductUpdated:a,isLoading:i=!1,onRefresh:r,pagination:l,onPageChange:c,onItemsPerPageChange:f,currentPage:J=1,itemsPerPage:q=20}){let[U,B]=(0,d.useState)(""),[V,z]=(0,d.useState)("all"),[L,D]=(0,d.useState)("name"),[M,Z]=(0,d.useState)("asc"),[R,O]=(0,d.useState)(null),[W,T]=(0,d.useState)(!1),[H,G]=(0,d.useState)(null),[K,X]=(0,d.useState)(!1),[Y,es]=(0,d.useState)(!1),[ea,et]=(0,d.useState)(!1),[ei,er]=(0,d.useState)(!1);(0,I.useRouter)();let{hasPermission:el}=(0,E.S)(),{toast:en}=(0,S.dj)(),ec=async e=>{et(!0),er(!0),O(e);try{let s=await (0,P.y9)(e.id);"success"===s.status&&s.data?O(s.data):en({title:"Error",description:s.message||"Failed to load complete product details",variant:"destructive"})}catch(e){console.error("Error loading product details:",e),en({title:"Error",description:"An error occurred while loading product details",variant:"destructive"})}finally{er(!1)}},ed=(0,d.useMemo)(()=>{let s=[...e];return U&&(s=s.filter(e=>ey(e,U))),"all"!==V&&(s=s.filter(e=>{let s=!!e.is_active;return"active"===V?s:!s})),s.sort((e,s)=>{let a=0;switch(L){case"name":a=e.name.localeCompare(s.name);break;case"price":a=parseFloat(e.price||"0")-parseFloat(s.price||"0");break;case"stock":a=(e.stock_quantity||0)-(s.stock_quantity||0)}return"asc"===M?a:-a}),s},[e,U,V,L,M]),eo=s=>{if("csv"===s){let s=new Blob([["Name,SKU,Category,Price,Stock Quantity,Description",...(U?e.filter(e=>ey(e,U)):e).map(e=>`"${e.name}","${e.sku||""}","${e.category?.name||""}","${e.price}","${e.stock_quantity}","${e.description||""}"`)].join("\n")],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(s),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",`products_${new Date().toISOString().split("T")[0]}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}else{let s=[["Name","SKU","Category","Price","Stock Quantity","Description"],...(U?e.filter(e=>ey(e,U)):e).map(e=>[e.name,e.sku||"",e.category?.name||"",e.price,e.stock_quantity,e.description||""])],a=$.Wp.aoa_to_sheet(s),t=$.Wp.book_new();$.Wp.book_append_sheet(t,a,"Products"),$._h(t,`products_${new Date().toISOString().split("T")[0]}.xlsx`)}};return i?(0,t.jsx)(ev,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[(0,t.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,t.jsx)(p.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(u.p,{placeholder:"Search products...",value:U,onChange:e=>B(e.target.value),className:"pl-8"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(A.l6,{value:V,onValueChange:z,children:[(0,t.jsx)(A.bq,{className:"w-full sm:w-32",children:(0,t.jsx)(A.yv,{placeholder:"Status"})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"all",children:"All Status"}),(0,t.jsx)(A.eb,{value:"active",children:"Active"}),(0,t.jsx)(A.eb,{value:"inactive",children:"Inactive"})]})]}),(0,t.jsxs)(A.l6,{value:`${L}-${M}`,onValueChange:e=>{let[s,a]=e.split("-");D(s),Z(a)},children:[(0,t.jsx)(A.bq,{className:"w-full sm:w-32",children:(0,t.jsx)(A.yv,{placeholder:"Sort by"})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"name-asc",children:"Name (A-Z)"}),(0,t.jsx)(A.eb,{value:"name-desc",children:"Name (Z-A)"}),(0,t.jsx)(A.eb,{value:"price-asc",children:"Price (Low-High)"}),(0,t.jsx)(A.eb,{value:"price-desc",children:"Price (High-Low)"}),(0,t.jsx)(A.eb,{value:"stock-asc",children:"Stock (Low-High)"}),(0,t.jsx)(A.eb,{value:"stock-desc",children:"Stock (High-Low)"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,t.jsx)(F.PermissionGuard,{permissions:["can_create_products","can_manage_system","can_manage_company"],hideOnDenied:!0,children:(0,t.jsxs)(x.$,{onClick:()=>X(!0),size:"sm",className:"bg-primary text-white hover:bg-primary/90",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),(0,t.jsxs)(C.rI,{children:[(0,t.jsx)(C.ty,{asChild:!0,children:(0,t.jsxs)(x.$,{size:"sm",className:"bg-primary text-white hover:bg-primary/90",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Export"]})}),(0,t.jsxs)(C.SQ,{children:[(0,t.jsx)(C._2,{onClick:()=>eo("csv"),children:"Export as CSV"}),(0,t.jsx)(C._2,{onClick:()=>eo("excel"),children:"Export as Excel"})]})]}),r&&(0,t.jsxs)(x.$,{size:"sm",className:"bg-primary text-white hover:bg-primary/90",onClick:r,children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),(0,t.jsx)("div",{className:"rounded-md border bg-white",children:(0,t.jsxs)(m.XI,{children:[(0,t.jsx)(m.A0,{children:(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nd,{className:"font-semibold",children:"Image"}),(0,t.jsx)(m.nd,{className:"font-semibold",children:"Product #"}),(0,t.jsx)(m.nd,{className:"font-semibold",children:"Product Code"}),(0,t.jsx)(m.nd,{className:"font-semibold",children:"Name"}),(0,t.jsx)(m.nd,{className:"font-semibold",children:"Stock"}),(0,t.jsx)(m.nd,{className:"font-semibold",children:"Category"}),(0,t.jsx)(m.nd,{className:"font-semibold",children:"Status"}),(0,t.jsx)(m.nd,{className:"text-right font-semibold",children:"Actions"})]})}),(0,t.jsx)(m.BF,{children:0===ed.length?(0,t.jsx)(m.Hj,{children:(0,t.jsx)(m.nA,{colSpan:9,className:"h-24 text-center",children:(0,t.jsxs)("div",{className:"text-gray-500",children:[(0,t.jsx)("p",{className:"font-semibold",children:"No products found"}),(0,t.jsx)("p",{className:"text-sm",children:"Create your first product to get started"})]})})}):ed.map(e=>(0,t.jsxs)(m.Hj,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>ec(e),children:[(0,t.jsx)(m.nA,{children:(0,t.jsx)("div",{className:"relative h-10 w-10 rounded-md overflow-hidden",children:(0,t.jsx)(o.default,{src:function(e){if(e.primary_image_url)return e.primary_image_url;if(e.image_urls&&Array.isArray(e.image_urls)&&e.image_urls.length>0){let s=e.primary_image_index||0;return e.image_urls[s]||e.image_urls[0]}if(e.images&&Array.isArray(e.images)&&e.images.length>0){let s=e.primary_image_index||0;return eb(e.images[s])}return eb(e.image_url)}(e),alt:e.name,fill:!0,className:"object-cover"})})}),(0,t.jsx)(m.nA,{className:"font-medium",children:(0,t.jsx)("div",{className:"text-sm font-semibold text-[#1E2764]",children:e.product_number||"-"})}),(0,t.jsx)(m.nA,{children:e.product_code||"-"}),(0,t.jsx)(m.nA,{children:(0,t.jsx)("div",{className:"font-medium",children:e.name})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{children:e.stock_quantity||0}),0===e.stock_quantity?(0,t.jsx)(n.A,{className:"ml-2 h-4 w-4 text-red-500"}):(e.stock_quantity||0)<=e.low_stock_threshold?(0,t.jsx)(n.A,{className:"ml-2 h-4 w-4 text-yellow-500"}):null]})}),(0,t.jsx)(m.nA,{children:e.category?.name||"Uncategorized"}),(0,t.jsx)(m.nA,{children:(0,t.jsx)(h.E,{variant:e.is_active?"default":"secondary",className:e.is_active?"bg-green-500":"",children:e.is_active?"Active":"Inactive"})}),(0,t.jsx)(m.nA,{className:"text-right",children:(0,t.jsxs)(C.rI,{children:[(0,t.jsx)(C.ty,{asChild:!0,children:(0,t.jsxs)(x.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,t.jsx)(b.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(C.SQ,{align:"end",children:[(0,t.jsxs)(C._2,{onClick:s=>{s.stopPropagation(),O(e),et(!0)},children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,t.jsx)(F.PermissionGuard,{permissions:["can_update_products","can_manage_system","can_manage_company"],hideOnDenied:!0,children:(0,t.jsxs)(C._2,{onClick:s=>{s.stopPropagation(),O(e),es(!0)},children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Edit Product"]})}),(0,t.jsxs)(F.PermissionGuard,{permissions:["can_delete_products","can_manage_system","can_manage_company"],hideOnDenied:!0,children:[(0,t.jsx)(C.mB,{}),(0,t.jsxs)(C._2,{className:"text-primary",onClick:s=>{s.stopPropagation(),G(e),T(!0)},children:[(0,t.jsx)(_,{className:"mr-2 h-4 w-4"}),"Delete Product"]})]})]})]})})]},e.id))})]})}),l&&l.total>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Showing ",(l.current_page-1)*l.per_page+1," to"," ",Math.min(l.current_page*l.per_page,l.total)," of"," ",l.total," products"]}),(0,t.jsxs)(A.l6,{value:q.toString(),onValueChange:e=>{let s=Number(e);f&&f(s),c&&c(1)},children:[(0,t.jsx)(A.bq,{className:"h-8 w-[70px]",children:(0,t.jsx)(A.yv,{placeholder:q.toString()})}),(0,t.jsx)(A.gC,{side:"top",children:[5,10,20,30,40,50].map(e=>(0,t.jsx)(A.eb,{value:e.toString(),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(x.$,{size:"sm",onClick:()=>c&&c(Math.max(1,l.current_page-1)),disabled:1===l.current_page,className:"bg-primary text-white hover:bg-primary/90 disabled:opacity-50",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),"Previous"]}),(0,t.jsxs)("div",{className:"flex items-center justify-center text-sm font-medium",children:["Page ",l.current_page," of ",l.last_page]}),(0,t.jsxs)(x.$,{size:"sm",onClick:()=>c&&c(Math.min(l.last_page,l.current_page+1)),disabled:l.current_page===l.last_page,className:"bg-primary text-white hover:bg-primary/90 disabled:opacity-50",children:["Next",(0,t.jsx)(k.A,{className:"h-4 w-4"})]})]})]})]}),(0,t.jsx)(Q,{open:K,onOpenChange:X,onProductCreated:a}),R&&(0,t.jsx)(ee,{open:Y,onOpenChange:es,product:R,onProductUpdated:a}),R&&(0,t.jsx)(eu,{open:ea,onOpenChange:et,product:R,isLoading:ei,onEdit:e=>{O(e),et(!1),es(!0)}}),(0,t.jsx)(eg,{open:W,onOpenChange:T,product:H,onSuccess:()=>{G(null),T(!1),a(),en({title:"Success",description:"Product deleted successfully"})}})]})}function ef(){let[e,s]=(0,d.useState)([]),[a,o]=(0,d.useState)(!0),[m,h]=(0,d.useState)(1),[x,u]=(0,d.useState)(20),[p,g]=(0,d.useState)(void 0),{toast:j}=(0,S.dj)(),v=async()=>{try{o(!0),console.log("Fetching products...");let e=await (0,P.d$)(m,x,{});console.log("Products data received:",e),s(Array.isArray(e.data)?e.data:[]),g(e.pagination)}catch(e){console.error("Error fetching products:",e),s([]),j({title:"Error",description:e.message||"Failed to load products. Please try again.",variant:"destructive"})}finally{o(!1)}},b=()=>{v()},y=(0,P.Gn)(e),N={totalProducts:p?.total||y.totalProducts,activeProducts:y.activeProducts,lowStockProducts:y.lowStockProducts,totalValue:y.totalValue};return a?(0,t.jsx)(F.PermissionGuard,{permissions:["can_view_products_menu","can_view_products","can_manage_system","can_manage_company"],children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(z.A,{className:"h-8 w-8 animate-spin"})})}):(0,t.jsx)(F.PermissionGuard,{permissions:["can_view_products_menu","can_view_products","can_manage_system","can_manage_company"],children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Products"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your product inventory and catalog"})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Total Products"}),(0,t.jsx)(r.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:N.totalProducts}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"All products in inventory"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Active Products"}),(0,t.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:N.activeProducts}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently available"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Low Stock"}),(0,t.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:N.lowStockProducts}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Products below threshold"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Total Value"}),(0,t.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:`KES ${N.totalValue.toLocaleString()}`}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Inventory value"})]})]})]}),(0,t.jsx)(eN,{products:e,summaryData:{totalProducts:N.totalProducts,activeProducts:N.activeProducts,totalValue:N.totalValue,lowStockProducts:N.lowStockProducts},onProductUpdated:b,isLoading:a,onRefresh:b,pagination:p,onPageChange:e=>{h(e)},onItemsPerPageChange:e=>{u(e),h(1)},currentPage:m,itemsPerPage:x})]})})}},45583:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},49706:(e,s,a)=>{Promise.resolve().then(a.bind(a,42703))},53311:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]])},57175:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},60881:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/inchwara/sawela/app/inventory/products/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/inchwara/sawela/app/inventory/products/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71463:(e,s,a)=>{"use strict";a.d(s,{E:()=>r});var t=a(60687),i=a(96241);function r({className:e,...s}){return(0,t.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...s})}},78148:(e,s,a)=>{"use strict";a.d(s,{b:()=>n});var t=a(43210),i=a(14163),r=a(60687),l=t.forwardRef((e,s)=>(0,r.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=l},88233:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},93613:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},99989:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d});var t=a(65239),i=a(48088),r=a(88170),l=a.n(r),n=a(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d={children:["",{children:["inventory",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,60881)),"/Users/inchwara/sawela/app/inventory/products/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,29093)),"/Users/inchwara/sawela/app/inventory/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"/Users/inchwara/sawela/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/inchwara/sawela/app/inventory/products/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/inventory/products/page",pathname:"/inventory/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[7719,6447,3399,5814,7676,1126,4097,7895,273,3209,6211,1158,6173,1231,5767,9973,4377],()=>a(99989));module.exports=t})();